<div id="move-container" class="move-container">
    <div class="logo"></div>
    <div class="top-right-area" >
        <!-- Depth1 -->  
        
        <div id="btnLogIn" focusable data-focusable-depth="1" class="depth1 btn btnSup">
            <div class="btnSupText">Log In/Sign up</div>
        </div>  
        
        <div id="btnSetting" focusable data-focusable-depth="1" class="depth1 btn btn-gap btn-setting" style="display:none">
            <div class="btn-icon icon-caph icon-caph-setting"></div>
        </div>
        
        <div id="btnBack" focusable data-focusable-depth="2" class="depth2 btn btn-gap btn-return">
            <div class="btn-icon icon-caph icon-caph-return"></div>
        </div>
        
        
        <!-- Settings buttons -->
		<div id="btnBack4" focusable data-focusable-depth="4" class="depth4 btn btn-gap btn-return">
            <div class="btn-icon icon-caph icon-caph-return"></div>
        </div>
    </div>
    <div class="top-right-area2">
    	<div id="selectCtg"  data-focusable-depth="1" class="depth1"><span>Categories &nbsp<div class="fa fa-chevron-up rotate"></div></span>
    		<div id="ctgOpt" class="select">
	    		<div id="ctg1" focusable data-focusable-depth="1" class="depth1 select-opt">Technology</div>
				<div id="ctg2" focusable data-focusable-depth="1" class="depth1 select-opt">Biology</div>
				<div id="ctg3" focusable data-focusable-depth="1" class="depth1 select-opt">Sociology</div>
				<div id="ctg4" focusable data-focusable-depth="1" class="depth1 select-opt">Politics</div>
    		</div>
			  
    	</div>
    </div>
    <!-- OVERVIEW -->
    <div class="overview">
        <div class="font-header"></div>
    </div>
    
    <!-- page: INDEX (OVERVIEW) -->
    <div id="description" class="depth1 page">
        <div class="overview desc font-body"></div>
    </div>

    <!-- page: TALK (OVERVIEW) -->
    <div class="depth2 overview desc font-body"></div>
    <div class="depth2 btn-wrapper">
        <div id="btnPlay" focusable data-focusable-depth="2" data-focusable-initial-focus="true" data-focusable-name="btnPlay" class="btn btn-gap btn-play">
            <div class="btn-icon icon-caph icon-caph-play"></div>
        </div>
        <div id="btnPreview" focusable data-focusable-depth="2" data-focusable-initial-focus="true" data-focusable-name="btnPreview" class="btn btn-gap btn-preview">
            <i class="fa fa-eye icon-buy"></i>
        </div>
        <div id="btnBuy" focusable data-focusable-depth="2" data-focusable-initial-focus="true" data-focusable-name="btnBuy" class="btn btn-gap btn-buy">
            <i class="fa fa-shopping-cart icon-buy"></i>
        </div>
        <div id="btnBuyComp" focusable data-focusable-depth="2" data-focusable-initial-focus="true" data-focusable-name="btnBuyComp" class="btn btn-gap btn-buyComp">
            <i class="fa fa-globe icon-buy"></i>
        </div>
    </div>
    <!-- page: TALK (LIST) -->
    <div class="depth2 related-play-list">
        <div class="list-area">
            <div class="title font-label title-opacity">Related play list</div>
            <div id="related-play-list" title="Related Play list"></div>
        </div>
    </div>
</div>
<!-- page: INDEX (LIST) -->
<div class="depth1 list-wrapper page">
    <div id="list-category" class="list-category" style="transform: translate3d(0, 0, 0)">
        <div class="list-area">
            <div class="title font-label">Colors</div>
            <div id="category_0" title="Colors"></div>
        </div>
        <div class="list-area">
            <div class="title font-label">Alphabets</div>
            <div id="category_1" title="Alphabets"></div>
        </div>
        <div class="list-area">
            <div class="title font-label">Numbers</div>
            <div id="category_2" title="Numbers"></div>
        </div>
    </div>
</div>

<!-- depth4 -->
<div id="settingPage" class="depth4 list-wrapper page sub-page">
    <h1>Settings</h1>
</div>

<!-- LogIn depth5 -->
<div class="depth5 list-wrapper page sub-page">
	<button id="auth">Login or register</button><span id="auth-link-message"></span>
	<div id="profile-view" class="card" style="width: 18rem;">
	    <img class="card-img-top">
	    <div class="card-body">
	        <h5 class="card-title"></h5>
	    </div>
	</div>
</div>


<script id="playlist" type="text/template">
    <div id="<%=item.id%>" class="item" ng-class="{'item-blank': item.isBlank === true}" focusable data-focusable-depth="1" data-index="<%= index %>">
        <div class="loader <%=(!item.loaded)?'hide':'' %>" ng-show="item.loaded === false"></div>
        <div class="content" ng-hide="item.loaded === false" style="background: url(<%=item.photo_urls[0].url || '' %>);-webkit-background-size:100%;">
            <div class="text font-label">
                <div class="font-info"><%=item.name%></div>
            </div>
        </div>
    </div>
</script>
<script id="playlistSm" type="text/template">
    <div id="<%=item.id%>" class="item item-playlist" focusable data-focusable-depth="1" data-index="<%= index %>">
        <div class="loader <%=(!item.loaded)?'hide':'' %>" ng-show="item.loaded === false"></div>
        <div class="content" ng-hide="item.loaded === false" style="background: url(<%=item.photo_urls[0].url || '' %>);-webkit-background-size:100% 100%;">
            <div class="playlist-text font-label"><div class="font-info">Small Item</div><%=item.name%></div>
        </div>
    </div>
</script>

<script id="relatedPlaylist" type="text/template">
    <div class="item" focusable data-focusable-depth="2" on-focused="focus($event, CATEGORY.RELATED_PLAY_LIST, this)" on-selected="selected($event, CATEGORY.RELATED_PLAY_LIST, this,$index)">
        <div class="loader <%=(!item.loaded)?'hide':'' %>"></div>
        <div class="content" ng-hide="item.loaded === false" style="background: url(<%=item.photo_urls[0].url || '' %>);-webkit-background-size:100% 100%;">
            <div class="text font-label">
            <div class="font-info"><%=item.name%></div><%=item.name%></div>
        </div>
    </div>
</script>

<!-- Auth script -->
 <script>
     // ------------------------------------------------------
     // START OF AUTH BLOCK
     // ------------------------------------------------------
     function displayProfile(userProfile) {
         // display the profile
         document.querySelector(
             '#profile-view .card-title'
         ).innerHTML = userProfile.name;

         document.querySelector('#profile-view img').src = userProfile.picture;

         $('#profile-view').show();
     }
 </script>
 <script>
     var pubnub = new PubNub({
         subscribeKey: "sub-c-e3a6b7dc-ff1f-11e8-a399-32ec39b2e34f",
         publishKey: "pub-c-94083343-a5ff-4f4b-90d3-d88866bf799b",
         ssl: true
     });
     pubnub.addListener({
         message: function(message) {
             // handle message
             if (message.message.action === 'auth') {
                 localStorage.setItem('id_token', message.message.idToken);
                 displayProfile(message.message.userInfo);
             }
         },
         presence: function(presenceEvent) {
             // handle presence
             console.log(presenceEvent);
         }
     });
 </script>
 
 <script>
     $('#auth').click(function() {
         $.ajax({
             url: '/api/getCode',
             method: "POST",
             dataType: "json",
             data: {
                 action_code: 'auth'
             },
             /*headers: {
                 "Authorization": "Bearer " + accessToken
             },*/

             success: function(response) {
                 $('#auth-link-message').html('Visit ztudy.dx.am/' + response.code + ' using your smartphone');
                 
                 pubnub.subscribe({
                     channels: [response.code]
                 });
             },

             error: function(error, status) {
                 console.error(error, status);
             }
         });
     });
  </script>